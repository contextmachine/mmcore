const THREE=require('three');
const coords=      [[0.37482434089753236, 0.43295118475038114], [0.40957434089753236, 0.43295118475038136], [0.44432434089753237, 0.43295118475038158], [0.44457434089753251, 0.43295118475038163], [0.44457434089753234, 0.43270118475038155], [0.44457434089753239, 0.42685118475038153], [0.44457434089753245, 0.42100118475038156], [0.44442434089753247, 0.42085118475038152], [0.44427434089753243, 0.4207011847503816], [0.44442434089753247, 0.42055118475038161], [0.44457434089753245, 0.42040118475038157], [0.44457434089753251, 0.40926389799065305], [0.44457434089753256, 0.39812661123092447], [0.44457434089753239, 0.39639456042335569], [0.44307434089753256, 0.39552853501957119], [0.44189185769405148, 0.39484582802372914], [0.44070937449057046, 0.39416312102788714], [0.44052770409134406, 0.39405823357399006], [0.44059945133537393, 0.3938611096411096], [0.44158397715029435, 0.3911561471957456], [0.44256850296521477, 0.3884511847503816], [0.44344642193137374, 0.3884511847503816], [0.4443243408975327, 0.3884511847503816], [0.44457434089753267, 0.38845118475038165], [0.44457434089753267, 0.38820118475038157], [0.44457434089753267, 0.38745118475038159], [0.44457434089753267, 0.38670118475038157], [0.44457434089753273, 0.38645118475038159], [0.4443243408975327, 0.38645118475038154], [0.44309631816226885, 0.38645118475038159], [0.44186829542700506, 0.38645118475038159], [0.4411680878887953, 0.38645118475038165], [0.44092860280621915, 0.38710916460705591], [0.43964496633993577, 0.390635926812958], [0.43836132987365239, 0.39416268901886009], [0.43807434089753244, 0.3949511847503816], [0.43880102249443831, 0.39537073456597011], [0.44043768169598546, 0.39631566019655506], [0.44207434089753256, 0.39726058582714008], [0.4425743408975325, 0.39754926096173493], [0.44257434089753256, 0.39812661123092447], [0.44257434089753256, 0.40178889799065304], [0.44257434089753256, 0.40545118475038155], [0.44257434089753217, 0.40845118475038128], [0.43957434089753256, 0.40845118475038156], [0.42776184089753255, 0.40845118475038145], [0.41594934089753255, 0.40845118475038139], [0.41294934089753255, 0.40845118475038139], [0.41294934089753249, 0.40545118475038133], [0.41294934089753255, 0.40178889799065282], [0.4129493408975326, 0.3981266112309243], [0.41294934089753271, 0.39754926096173476], [0.4134493408975326, 0.39726058582713986], [0.41508600009907975, 0.39631566019655495], [0.41672265930062691, 0.39537073456596999], [0.41744934089753283, 0.39495118475038138], [0.41716235192141277, 0.39416268901885998], [0.41581884418448545, 0.3904714318487893], [0.41447533644755813, 0.38678017467871861], [0.41435559390627003, 0.3864511847503812], [0.41400549013716514, 0.38645118475038148], [0.41359757172922057, 0.38645118475038143], [0.41318965332127594, 0.38645118475038137], [0.4129493408975326, 0.3864511847503812], [0.41279921891655441, 0.38663883722660408], [0.41203862829996124, 0.38758957549734557], [0.41127803768336813, 0.38854031376808706], [0.4109493408975326, 0.38895118475038137], [0.41094934089753271, 0.38947735633941871], [0.41094934089753266, 0.39678927054490004], [0.4109493408975326, 0.40410118475038137], [0.41094934089753271, 0.40435118475038145], [0.41069934089753257, 0.4043511847503814], [0.40962434089753252, 0.40435118475038134], [0.40854934089753253, 0.40435118475038134], [0.40829934089753278, 0.40435118475038151], [0.40829934089753256, 0.40460118475038132], [0.40829934089753256, 0.40535118475038134], [0.40829934089753256, 0.40610118475038132], [0.40829934089753245, 0.40635118475038134], [0.40854934089753253, 0.40635118475038134], [0.40962434089753252, 0.40635118475038134], [0.41069934089753252, 0.4063511847503814], [0.41094934089753249, 0.40635118475038146], [0.41094934089753254, 0.40660118475038137], [0.41094934089753254, 0.4074011847503814], [0.41094934089753254, 0.40820118475038136], [0.41094934089753243, 0.40845118475038117], [0.41069934089753252, 0.40845118475038134], [0.39844934089753253, 0.40845118475038122], [0.38619934089753249, 0.40845118475038117], [0.38594934089753247, 0.40845118475038122], [0.38594934089753258, 0.4082011847503812], [0.38594934089753258, 0.40740118475038117], [0.38594934089753252, 0.40660118475038121], [0.38594934089753247, 0.40635118475038123], [0.38619934089753249, 0.40635118475038118], [0.38744934089753252, 0.40635118475038123], [0.3886993408975325, 0.40635118475038123], [0.3889493408975323, 0.40635118475038107], [0.38894934089753247, 0.40610118475038121], [0.38894934089753253, 0.40535118475038123], [0.38894934089753258, 0.4046011847503812], [0.38894934089753269, 0.40435118475038101], [0.38869934089753255, 0.40435118475038118], [0.38744934089753258, 0.40435118475038123], [0.38619934089753249, 0.40435118475038123], [0.38394934089753269, 0.40435118475038145], [0.38394934089753258, 0.40660118475038121], [0.38394934089753258, 0.40740118475038117], [0.38394934089753252, 0.4082011847503812], [0.38394934089753258, 0.40845118475038117], [0.38369934089753255, 0.40845118475038117], [0.38163684089753253, 0.40845118475038111], [0.3795743408975325, 0.40845118475038111], [0.3765743408975325, 0.40845118475038106], [0.37657434089753244, 0.40545118475038111], [0.3765743408975325, 0.40178889799065259], [0.37657434089753256, 0.39812661123092402], [0.37657434089753239, 0.39754926096173432], [0.37707434089753256, 0.39726058582713963], [0.37871100009907976, 0.39631566019655468], [0.38034765930062692, 0.39537073456596977], [0.38107434089753267, 0.39495118475038116], [0.38078735192141283, 0.3941626890188597], [0.37950371545512951, 0.39063592681295756], [0.37822007898884619, 0.38710916460705547], [0.37798059390626998, 0.38645118475038104], [0.37728038636806027, 0.38645118475038109], [0.37605236363279648, 0.38645118475038109], [0.37482434089753269, 0.38645118475038109], [0.37457434089753283, 0.38645118475038115], [0.37457434089753272, 0.38670118475038112], [0.37457434089753272, 0.38745118475038109], [0.37457434089753272, 0.38820118475038112], [0.37457434089753278, 0.38845118475038104], [0.37482434089753269, 0.3884511847503811], [0.37561473392141542, 0.3884511847503811], [0.37640512694529815, 0.3884511847503811], [0.37658017882985051, 0.38845118475038098], [0.37664005010049467, 0.38861567971454969], [0.37748701941404805, 0.39094270877850884], [0.37833398872760149, 0.3932697378424681], [0.37862097770372144, 0.39405823357398945], [0.37789429610681557, 0.39447778338957812], [0.37698431850217412, 0.39500315920457446], [0.37607434089753256, 0.39552853501957069], [0.37457434089753244, 0.39639456042335508], [0.37457434089753255, 0.39812661123092402], [0.3745743408975325, 0.4092638979906526], [0.37457434089753244, 0.42040118475038113], [0.37472434089753243, 0.42055118475038111], [0.37487434089753241, 0.4207011847503811], [0.37472434089753243, 0.42085118475038108], [0.37457434089753244, 0.42100118475038106], [0.37457434089753239, 0.42685118475038109], [0.37457434089753233, 0.43270118475038111], [0.37457434089753222, 0.43295118475038119], [0.37482434089753236, 0.43295118475038114]]

function makeExtrusion(coords, holes, line_coords){
    let pts=[];
    const spline = new THREE.CatmullRomCurve3( [
        new THREE.Vector3( line_coords[0][0] , line_coords[0][1], line_coords[0][2]),
                        new THREE.Vector3(  line_coords[1][0] , line_coords[1][1], line_coords[1][2])]);
    coords.forEach((value, index, array)=>{
        pts.push(new THREE.Vector2(value[0],value[1]))
    })
    const extrudeSettings1 = {
                        steps: 2,
                        depth:1.0,
                        bevelEnabled: false,
                        extrudePath:spline
                    };
    let shape1 = new THREE.Shape( pts );

    let pttt=[]
    holes.forEach((value,index,array)=>{

        let ptt=[]
        value.forEach((value2, index2, array2)=>{
        ptt.push(new THREE.Vector2(value[0],value[1]))
    });
        pttt.push(new THREE.Shape(ptt));

    })
    pttt.forEach((value)=>{
         shape1.holes.push(value)
    })

    const geometry1 = new THREE.ExtrudeGeometry( shape1, extrudeSettings1 );
    const material1 = new THREE.MeshLambertMaterial( { color: 0xb00000, wireframe: false } );
    const mesh =new THREE.Mesh(geometry1,  material1)
    console.log(JSON.stringify(mesh.toJSON()))


}