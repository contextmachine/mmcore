import numpy as np
from mmcore.geom.nurbs import knot_insertion,knot_refinement,knot_removal
knots=np.array([0., 0., 0., 0., 1., 2., 3., 4., 5., 6., 7., 7., 7., 7.])
degree=3
cpts=np.array([[0.21513631, 0.35926084, 0.26489785],
       [0.83268219, 0.33749707, 0.97734915],
       [0.68735535, 0.37257957, 0.38741217],
       [0.67233077, 0.96011301, 0.68115697],
       [0.99857319, 0.12323246, 0.58510875],
       [0.28254496, 0.72570042, 0.40970308],
       [0.39761485, 0.04200578, 0.8142742 ],
       [0.32169623, 0.35013199, 0.63885594],
       [0.43944524, 0.0271475 , 0.35575128],
       [0.03811361, 0.9034051 , 0.58145126]])


def test_knot_insertion():
    ...
def test_knot_removal():
    result = [[0.2151363084667599, 0.359260838752556, 0.26489784680606165],
              [0.6873553473019222, 0.3725795716592343, 0.38741216810576007],
              [0.6723307668875393, 0.9601130107540756, 0.6811569651017968],
              [0.9985731931649946, 0.12323245571807562, 0.5851087468209205],
              [0.28254495968838766, 0.7257004193511157, 0.4097030841728343],
              [0.39761485113420114, 0.04200577694783969, 0.8142742026536587],
              [0.32169622980144863, 0.3501319876795027, 0.6388559366007316],
              [0.43944523876246433, 0.02714750134398547, 0.3557512756785025],
              [0.03811360848423473, 0.9034051049876491, 0.5814512624793955]]
    assert np.allclose(knot_removal(degree,knots,cpts,0.4),result)
def test_knot_refinement():
    ...